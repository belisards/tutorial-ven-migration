[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Venezuelan Migrants and Refugees in Chile, Colombia, Ecuador, and Peru",
    "section": "",
    "text": "This tutorial aims to help analysts and local policymakers develop evidence-based policies and promote a mutually beneficial relationship between Venezuelan migrants and the host community in Chile, Colombia, Peru, and Ecuador. We present an overview of open-source technologies to analyze survey data and introduce a step-by-step guide to use R to describe statistics from host populations and Venezuelan migrants."
  },
  {
    "objectID": "index.html#preliminary-analysis",
    "href": "index.html#preliminary-analysis",
    "title": "Venezuelan Migrants and Refugees in Chile, Colombia, Ecuador, and Peru",
    "section": "Preliminary analysis",
    "text": "Preliminary analysis\nTo understand how each country file is structured, let’s review some core variables. You can find detailed descriptions for all available variables in the data dictionaries (codebooks).\n\nsurvey: the name of the survey;\nwave: the wave of the survey. Surveys might have more than one edition, known as waves. Each wave occurs in a distinct period of time.\nsamp: indicate whether the response comes from Venezuelan or the host population;\nweight: the weight assigned for each record to produce unbiases estimates;\n\nEach file aggregates different surveys from the same country. Therefore, you should use the variables survey and wave to filter the data and pick the right source depending on your research question. Because distinct surveys cover different questions, some rows have missing values.\n\nInspect missing values\nLet’s plot the missing values for each of the surveys available. The chart shows more records from the EPEC survey than HFPS. The highlighted regions make it easy to spot which variables have missing values.\n\nvisdat::vis_miss(survey,facet = survey)\n\n\n\n\nTo keep it simple, our tutorial analyses only information on age, marital status, region, and population type (host or Venezuelan migrant) in the HPFS survey. As the image shows, these variables have no missing values, so we will not worry about missing values. Nevertheless, handling missing values is crucial to the data preparation phase. You might need to drop missing values or impute values to conduct other analyses. Your chosen strategy depends on why values are missing, the extent of missingness, and your analytical goals. Please refer to the data dictionary and documentation to understand the reasons for missing values.\n\n\nRecords by surveys and waves\nBefore applying the weights, we will check the total number of respondents by survey, wave and population.\n\nsummary_df <- survey %>% \n  group_by(survey, wave, samp) %>% \n  summarise(total = n(), .groups = 'drop')\n\n# Output the table\nkable(summary_df, caption = \"Number of records by survey, wave and population\")\n\n\nNumber of records by survey, wave and population\n\n\nsurvey\nwave\nsamp\ntotal\n\n\n\n\nEPEC\n1\nHosts\n1807\n\n\nEPEC\n1\nMigrants\n1256\n\n\nHFPS\n2\nHosts\n503\n\n\nHFPS\n2\nMigrants\n356\n\n\n\n\n\nKeep in mind these values reflect the number of responses from an unweighted sample of Venezuelan migrants and host population, not the actual migrant and local population. Next, we’ll demonstrate how to use weights to calculate estimates that are more representative."
  },
  {
    "objectID": "index.html#configure-the-survey-design",
    "href": "index.html#configure-the-survey-design",
    "title": "Venezuelan Migrants and Refugees in Chile, Colombia, Ecuador, and Peru",
    "section": "Configure the survey design",
    "text": "Configure the survey design\nAs different surveys present distinct questions, you should select the survey according to the goals of your analysis. For instance, the data for Ecuador relies on the High-Frequency Phone Survey (HFPS) and the 2019 Human Mobility and Host Communities Survey (EPEC, for its acronym in Spanish). Most of the indicators used in the report come from the HFPS, except those referring to job occupations and health insurance, which come from the EPEC survey.\nWe will select the HFPS survey to calculate to compare the average age of Venezuelan migrants and the host population in Ecuador. Let’s start filtering the dataset to get only answers from the HFPS.\n\nsurvey_filter <- survey %>% \n  filter(survey == \"HFPS\")\n\nNext, we load the survey design and the weights associated with each response. There are a variety of ways to implement weighted data analysis using R. For convenience, we use the function svydesign from survey, a R package with pre-built features tailored for survey analysis.\n\nsurvey_ecu <- svydesign(ids = ~1, # ~1 means the survey has no clusters\n                       data= survey_filter, \n                       weights = survey_filter$weight)\n\nNow, we are ready to produce more accurate estimates about the populations of interest."
  },
  {
    "objectID": "index.html#descriptive-statistic",
    "href": "index.html#descriptive-statistic",
    "title": "Venezuelan Migrants and Refugees in Chile, Colombia, Ecuador, and Peru",
    "section": "Descriptive statistic",
    "text": "Descriptive statistic\nCreating basic summary statistics using the survey package is straightforward. Our tutorial shows how to calculate the mean for numeric values and cross-tabulation for categorical variables.\n\nNumeric values\nWe will group (svyby) the records by the population type (~samp) and calculate the mean age (svymean). The output shows the mean and the standard error (se) for each estimate. Standard error values use the same unit of measurement of the mean. They represent how much the sample mean calculated is expected to vary from the actual population mean.\n\n# Group by and calculate the mean age\nsvyby(formula = ~age, by = ~samp, design = survey_ecu, svymean)\n\n             samp      age        se\nHosts       Hosts 39.88760 0.9410057\nMigrants Migrants 36.09989 0.5309258\n\n\n\n\nCategoric variables\nWe can employ the svytable command to analyze categorical variables. The following code cross-tabulates the population by marital status. Using prop.table(crosstab, 1), we present the values as percentages at the population/row level (using 0 instead would sum the values to 100 across columns). Additionally, we round the values to two decimal places.\n\n# Cross-tabulates values\ncrosstab <- svytable(~samp + marital_status, design = survey_ecu)\n\n# Calculate percentages\ncrosstab_percentages <- round(prop.table(crosstab,1) * 100,2) \n \n# Output the table\nknitr::kable(crosstab_percentages, \n             caption = \"Crosstab of Occupation by Marital Status (%)\")\n\n\nCrosstab of Occupation by Marital Status (%)\n\n\n\nMarried/Cohabitation\nOther\nSingle\n\n\n\n\nHosts\n54.32\n10.64\n35.04\n\n\nMigrants\n51.14\n4.29\n44.57\n\n\n\n\n\n\n\nDetailing by region\nYou can also use the column code_province to produce estimates for each region.\n\nmean_age <- svyby(~age, ~samp + code_province, survey_ecu, svymean)\n\nknitr::kable(mean_age, caption = \"Mean age by population\", row.names=FALSE)\n\n\nMean age by population\n\n\nsamp\ncode_province\nage\nse\n\n\n\n\nHosts\nAzuay\n34.28751\n2.4472912\n\n\nMigrants\nAzuay\n38.44558\n1.6925252\n\n\nHosts\nBolivar\n35.38478\n4.8992903\n\n\nHosts\nCañar\n41.93000\n9.4223198\n\n\nMigrants\nCañar\n31.39452\n4.6921062\n\n\nHosts\nCarchi\n45.61607\n7.7941828\n\n\nMigrants\nCarchi\n48.50000\n4.5988717\n\n\nHosts\nChimborazo\n39.31556\n5.1718474\n\n\nMigrants\nChimborazo\n31.05517\n2.5762621\n\n\nHosts\nCotopaxi\n48.75018\n7.3282210\n\n\nMigrants\nCotopaxi\n38.00000\n0.0000000\n\n\nHosts\nEl Oro\n42.98743\n5.1123709\n\n\nMigrants\nEl Oro\n34.21006\n2.3494369\n\n\nHosts\nEsmeraldas\n46.99697\n8.6409451\n\n\nHosts\nGalápagos\n58.39114\n2.0476748\n\n\nHosts\nGuayas\n39.80792\n1.9244430\n\n\nMigrants\nGuayas\n33.44946\n1.0339923\n\n\nHosts\nImbabura\n42.52794\n8.1943990\n\n\nMigrants\nImbabura\n31.84827\n1.9839182\n\n\nHosts\nLoja\n39.73884\n5.0654610\n\n\nMigrants\nLoja\n48.00000\n0.0000000\n\n\nHosts\nLos Rios\n31.94942\n2.5716242\n\n\nMigrants\nLos Rios\n36.79796\n2.1185825\n\n\nHosts\nManabi\n42.21102\n3.0035721\n\n\nMigrants\nManabi\n33.56610\n1.7669829\n\n\nHosts\nMorona Santiago\n34.26451\n6.6840835\n\n\nMigrants\nMorona Santiago\n48.00000\n0.0000000\n\n\nHosts\nNapo\n42.66667\n0.9818785\n\n\nMigrants\nNapo\n41.47055\n3.3052052\n\n\nHosts\nOrellana\n43.77406\n7.5836483\n\n\nMigrants\nOrellana\n32.44793\n1.6388851\n\n\nHosts\nPastaza\n55.01462\n5.8836227\n\n\nHosts\nPichincha\n39.85590\n1.9423484\n\n\nMigrants\nPichincha\n37.38319\n0.7775836\n\n\nHosts\nSanta Elena\n44.04101\n7.0941311\n\n\nMigrants\nSanta Elena\n39.45244\n3.8401079\n\n\nHosts\nSanto Domingo\n46.94187\n4.9430434\n\n\nMigrants\nSanto Domingo\n34.19018\n3.4954833\n\n\nHosts\nSucumbíos\n25.05930\n2.1051501\n\n\nHosts\nTungurahua\n36.16449\n3.8003223\n\n\nMigrants\nTungurahua\n37.68505\n3.2999673\n\n\nHosts\nZamora Chinchipe\n30.66675\n2.6596754\n\n\nMigrants\nZamora Chinchipe\n44.00000\n0.0000000\n\n\n\n\n\nNote the standard error increases as we have fewer observations in some regions. Bear in mind the limitations of using weight levels calculated for a national level in regional analysis, as they might not accurately reflect the unique characteristics of each region, resulting in biased estimates."
  }
]